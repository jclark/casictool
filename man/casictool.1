.\" Automatically generated by Pandoc 3.1.11.1
.\"
.TH "casictool" "1" "" "" ""
.SH NAME
casictool \- configure a GPS receiver using CASIC protocol
.SH SYNOPSIS
\f[B]casictool\f[R] [\f[B]\-h\f[R]|\f[B]\-\-help\f[R]]
.PD 0
.P
.PD
\ \ \ \ [\f[B]\-d\f[R]|\f[B]\-\-device\f[R] \f[I]path\f[R]]
[\f[B]\-s\f[R]|\f[B]\-\-device\-speed\f[R] \f[I]bps\f[R]]
.PD 0
.P
.PD
\ \ \ \ [\f[B]\-\-packet\-log\f[R] \f[I]path\f[R]]
[\f[B]\-\-capture\f[R] \f[I]seconds\f[R]]
.PD 0
.P
.PD
\ \ \ \ [\f[B]\-\-show\-config\f[R]]
.PD 0
.P
.PD
\ \ \ \ [\f[B]\-\-save\f[R]] [\f[B]\-\-save\-all\f[R]]
[\f[B]\-\-reset\f[R]] [\f[B]\-\-reload\f[R]]
[\f[B]\-\-factory\-reset\f[R]]
.PD 0
.P
.PD
\ \ \ \ [\f[B]\-g\f[R]|\f[B]\-\-gnss\f[R]
\f[B]GPS\f[R]|\f[B]GAL\f[R]|\f[B]BDS\f[R]|\f[B]GLO\f[R],\&...]
.PD 0
.P
.PD
\ \ \ \ [\f[B]\-\-min\-elev\f[R] \f[I]degrees\f[R]]
.PD 0
.P
.PD
\ \ \ \ [\f[B]\-\-time\-gnss\f[R]
\f[B]GPS\f[R]|\f[B]GAL\f[R]|\f[B]BDS\f[R]|\f[B]GLO\f[R]]
.PD 0
.P
.PD
\ \ \ \ [\f[B]\-\-pps\f[R] \f[I]width\f[R]]
.PD 0
.P
.PD
\ \ \ \ [\f[B]\-\-mobile\f[R]] [\f[B]\-\-fixed\-pos\-ecef\f[R]
\f[I]X,Y,Z\f[R]] [\f[B]\-\-fixed\-pos\-acc\f[R] \f[I]meters\f[R]]
.PD 0
.P
.PD
\ \ \ \ [\f[B]\-\-survey\f[R]] [\f[B]\-\-survey\-time\f[R]
\f[I]seconds\f[R]] [\f[B]\-\-survey\-acc\f[R] \f[I]meters\f[R]]
.PD 0
.P
.PD
\ \ \ \ [\f[B]\-\-nmea\-out\f[R]
\f[B]none\f[R]|\f[B]GGA\f[R]|\f[B]GLL\f[R]|\f[B]GSA\f[R]|\f[B]GSV\f[R]|\f[B]RMC\f[R]|\f[B]VTG\f[R]|\f[B]ZDA\f[R],\&...]
.PD 0
.P
.PD
\ \ \ \ [\f[B]\-\-casic\-out\f[R] \f[I]messages\f[R]]
.SH DESCRIPTION
The \f[B]casictool\f[R] command is used to configure a GPS receiver
using the CASIC protocol.
.SH OPTIONS
.TP
\f[B]\-h\f[R], \f[B]\-\-help\f[R]
Show usage help.
.TP
\f[B]\-\-show\-config\f[R]
Show the current configuration of the GPS receiver.
.TP
\f[B]\-d\f[R], \f[B]\-\-device\f[R] \f[I]path\f[R]
Path to the serial device to communicate with the GPS receiver.
.TP
\f[B]\-s\f[R], \f[B]\-\-device\-speed\f[R] \f[I]bps\f[R]
Set the speed of the serial port (as specified by \f[B]\-d\f[R]) in bits
per second.
.TP
\f[B]\-\-packet\-log\f[R] \f[I]path\f[R]
Log to \f[I]path\f[R] a description of the packets sent to and received
from the GPS receiver.
The log is in \f[CR].jsonl\f[R] (JSON lines) format.
.TP
\f[B]\-\-capture\f[R] \f[I]seconds\f[R]
Capture packets for \f[I]seconds\f[R] after any configuration is
complete, logging them to the packet log.
Requires \f[B]\-\-packet\-log\f[R].
If \f[I]seconds\f[R] is 0, capture indefinitely until interrupted with
Ctrl+C.
Can be used alone (without configuration options) to observe receiver
output.
.TP
\f[B]\-g\f[R], \f[B]\-\-gnss\f[R] \f[I]list\f[R]
List of GNSS constellations that should be enabled.
The \f[I]list\f[R] parameter is a comma\-separated list of:
.TP
\f[B]GPS\f[R]
Global Positioning System (United States)
.TP
\f[B]GAL\f[R] or \f[B]Galileo\f[R]
Galileo (European Union)
.TP
\f[B]BDS\f[R] or \f[B]BeiDou\f[R]
BeiDou Navigation Satellite System (China)
.TP
\f[B]GLO\f[R] or \f[B]GLONASS\f[R]
Global Navigation Satellite System (Russia)
.TP
\f[B]\-\-min\-elev\f[R] \f[I]degrees\f[R]
Set the minimum satellite elevation angle in degrees (0\-90).
Satellites below this elevation are excluded from navigation.
Typical values are 5\-15Â°.
.TP
\f[B]\-\-time\-gnss\f[R] \f[I]constellation\f[R]
GNSS constellation used for timing purposes.
The PPS signal is aligned to the system time of this GNSS.
(The system times of different GNSSs can differ by tens of nanoseconds.)
Valid values are GPS, GAL, BDS, and GLO.
.TP
\f[B]\-\-save\f[R]
Save the configuration changed by this command to GPS receiver\[cq]s
non\-volatile memory.
Exactly what is saved depends on the specific GPS receiver; casictool
will save the minimum possible to ensure that everything that was
changed by this command is saved.
.TP
\f[B]\-\-save\-all\f[R]
Save the current running configuration of the GPS receiver to its
non\-volatile memory.
.TP
\f[B]\-\-reload\f[R]
Reloads the configuration of the GPS receiver from its non\-volatile
memory.
Any configuration settings that have not been saved will be lost.
.TP
\f[B]\-\-reset\f[R]
Perform a reset that reloads the configuration of the GPS receiver from
its non\-volatile memory (as with the \f[B]\-reload\f[R] option), and
discards information about the last known position, current time, and
satellite orbital data (both ephemeris and almanac).
.TP
\f[B]\-\-factory\-reset\f[R]
Restore the non\-volatile memory of the GPS receiver to its default
settings, and the perform a reset as with the \f[B]\-\-reset\f[R]
option.
.TP
\f[B]\-\-pps\f[R] \f[I]width\f[R]
Configure the GPS receiver to enable a pulse\-per\-second (PPS) signal
with the specified pulse width in seconds.
The \f[I]width\f[R] must be >= 0 and <= 1.0.
A width of 0 disables the PPS signal.
.TP
\f[B]\-\-nmea\-out\f[R] \f[I]flags\f[R]
Configure NMEA message output.
The \f[I]flags\f[R] parameter is a comma\-separated list of message
names.
Messages not in the list will be disabled.
Use \f[B]none\f[R] to disable all NMEA messages.
.TP
\f[B]GGA\f[R]
Enable GGA (Global Positioning System Fix Data) messages
.TP
\f[B]GLL\f[R]
Enable GLL (Geographic Position \- Latitude/Longitude) messages
.TP
\f[B]GSA\f[R]
Enable GSA (DOP and Active Satellites) messages
.TP
\f[B]GSV\f[R]
Enable GSV (Satellites in View) messages
.TP
\f[B]RMC\f[R]
Enable RMC (Recommended Minimum) messages
.TP
\f[B]VTG\f[R]
Enable VTG (Vector Track Made Good) messages
.TP
\f[B]ZDA\f[R]
Enable ZDA (Time and Date) messages
.TP
\f[B]\-\-casic\-out\f[R] \f[I]messages\f[R]
Configure CASIC binary message output.
The \f[I]messages\f[R] parameter is a comma\-separated list of message
names (e.g., \f[B]TIM\-TP,NAV\-SOL\f[R]).
Messages not in the list will be disabled.
Message names are case\-insensitive.
Use \f[B]none\f[R] to disable all CASIC binary messages.
.TP
\f[B]\-\-survey\f[R]
Perform a survey to determine the position of the antenna, and then run
in a mode that assumes the position of the antenna does not change.
The survey makes measurements for a period of time and then computes the
position based on those measurements.
.TP
\f[B]\-\-survey\-time\f[R] \f[I]seconds\f[R]
Set duration of the position survey (default: 2000).
.TP
\f[B]\-\-survey\-acc\f[R] \f[I]meters\f[R]
Required survey accuracy in meters (default: 20.0).
Minimum value is 0.001 (1 mm).
.TP
\f[B]\-\-fixed\-pos\-ecef\f[R] \f[I]X,Y,Z\f[R]
Use the specified coordinates as the fixed position of the antenna, and
then run in a mode that assumes the position of the antenna does not
change.
The coordinates are comma\-separated X, Y, and Z coordinates in meters
in the Earth\-Centered, Earth\-Fixed coordinate system.
.TP
\f[B]\-\-fixed\-pos\-acc\f[R] \f[I]meters\f[R]
Set the accuracy of the fixed position in meters (default: 20.0).
This value should reflect the actual uncertainty in the fixed position
coordinates.
Minimum value is 0.001 (1 mm).
.TP
\f[B]\-\-mobile\f[R]
Run in a normal mode, where the position of the antenna may change.
This undoes the effect of \f[B]\-\-survey\f[R] or
\f[B]\-\-fixed\-pos\-ecef\f[R].
.SH EXAMPLES
Enable GPS and Galileo on \f[CR]/dev/ttyACM0\f[R] at 9600 baud:
.IP
.EX
casictool \-d /dev/ttyACM0 \-s 9600 \-g GPS,GAL
.EE
.PP
Start a survey for 3000 seconds with 1.5m accuracy:
.IP
.EX
casictool \-\-survey \-\-survey\-time 3000 \-\-survey\-acc 1.5 \-d /dev/ttyUSB0 \-s 38400
.EE
.PP
Reset the receiver to factory defaults:
.IP
.EX
casictool \-d /dev/ttyUSB0 \-s 38400 \-\-factory\-reset
.EE
.PP
Enable only NMEA RMC messages:
.IP
.EX
casictool \-d /dev/ttyACM0 \-s 19200 \-\-nmea\-out RMC
.EE
.PP
Enable TIM\-TP binary message output:
.IP
.EX
casictool \-d /dev/ttyUSB0 \-s 38400 \-\-casic\-out TIM\-TP
.EE
.PP
Capture packets for 10 seconds to verify configuration:
.IP
.EX
casictool \-d /dev/ttyUSB0 \-s 9600 \-\-nmea\-out RMC \-\-packet\-log packets.jsonl \-\-capture 10
.EE
.SH AUTHORS
James Clark.
